If you know with 100% certainty that a security is undervalued should you put all your money into it?
I would think not. When you say "undervalued" you are saying that given this security's cash flows and the uncertainty of these cash flows its value should be X, but it currently trading for X - Y. Where Y is the dollar amount of the mispricing. At first pass this may seem to be an arbitrage opportunity of sorts and it typically is presented as such, but the only way this is a true arbitrage is if after buying at (X-Y) you could immediately sell for X. Then you may think that since your valuation is correct with 100% accuracy that eventually the mispricing will be corrected, and you will make a beautiful profit. This reasoning calls to mind Keynes famous quote "The market can remain irrational for longer than you can remain solvent." Or another familiar phrase of "Being too early is indistinguishable from being wrong." Both quotes make clear the possible complications and risk associated with such an investment.
 I think being a little more concrete is probably beneficial and can help elucidate the point. 
First, even if your valuation at time T is correct if that mispricing does not occur by time T+1 and you must sell at T+1 then you are screwed. This is the point Keynes was whining about. Although you were correct, you were not able to cash out on your brilliance before the day of reckoning so your insight went to waste. 
Another possibility is that at time T+1 the valuation has changed just because of the uncertainty of life. Events in the world have changed and now you again accurately value the security, but unfortunately its value has decreased by Z dollars where Z>Y. In this case your valuation is now lower than the market value you purchased at! To compound on these tough circumstances, imagine the market suddenly realizes its mistake and values the security at the correct value of X-Z. In this case even though you were 100% correct you were still screwed. 
The conclusion I must take away is that diversification is paramount to investment success. The only way to assure your success, assuming you can have the skill to consistently identify mispricing's is if would be if you can bet on hundreds of these mispricing's throughout your life so that the variance washes out and your average profit is in fact (X-Y).
